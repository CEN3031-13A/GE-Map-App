<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="../px-icon-set/px-icon-set.html"/>
<link rel="import" href="px-card.html"/>
<link rel="import" href="css/px-card-styles.html"/>

<!--

### Usage

By importing px-card.html and including the px.card behavior, you gain access to the
additional properties and methods listed in the API below for px-cards.
You can create your own Polymer components that instantiate different styles of cards,
and use these in combination with the Predix Views service and px-deck / px-dashboard.
For more information on the Views service, see the documentation
[here](https://docs.predix.io/en-US/content/service/app_services/views/views-service-overview).

```
<dom-module id="demo-card">
  <template>
    <px-card icon='analysis' header-text='Demo Card'>
      <h1>Hello World</h1>
      <p>{{context.name}}</p>
      <p>This is the bare minimum you need for a Predix Experience card.</p>
    </px-card>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'demo-card',
    init: function(){
      // this is where you can do some initialization of your card
      // you can safely use this.context or fetch data with this.getData method here
    },
    contextChanged: function(newContext, oldContext) {
      // this is where you will receive updates to the context
    },
    deckStateChanged: function(newDeckState, oldDeckState) {
      // this is where you will receive updates from other cards
    },
    updateDeck: function (object) {
      // broadcast an object to other cards within the deck
    },
    behaviors: [px.card]
  });

</script>
```

### Getting Data
You can get data from web resources with a simple url. Example:

```
this.getData('http://weather.com/sanramon').then(function(data) {
  self.currentTemperature = data.value;
}, function(reason) {
  console.error('ERROR', reason);
});
```

You can also use getData with httpConfig. Example:
```
this.getData('http://weather.com/sanramon',{headers: {'my-header-name': 'my-header-value'}}).then(function(data) {
  self.currentTemperature = data.value;
}, function(reason) {
  console.error('ERROR', reason);
});
```

If you need more than http GET, you can call a lower level method, px.dealer.httpRequest in px.dealer.
The px.dealer.httpRequest method is a low level method that takes an httpConfig object and returns a promise.
For details about the httpConfigObject, please reference angular $http method config. Example:
```
px.dealer.httpRequest({
  url: 'http://weather.com/sanramon,
  method: 'JSONP',
  headers: {'my-header-name': 'my-header-value'},
}).then(function(data){
  self.currentTemperature = data.value;
});
```

@element px-sample-card
@homepage index.html
-->
<dom-module id="px-sample-card">
  <template>
    <px-card icon='analysis' header-text='Demo Card'>
      <h1>Hello World</h1>
      <p>{{context.name}}</p>
      <p>This is the bare minimum you need for a Predix Experience card.</p>
    </px-card>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'px-sample-card',
    init: function(){
      // this is where you can do some initialization of your card
      // you can safely use this.context or fetch data with this.getData method here
    },
    contextChanged: function(newContext, oldContext) {
      // this is where you will receive updates to the context
    },
    deckStateChanged: function(newDeckState, oldDeckState) {
      // this is where you will receive updates from other cards
    },
    updateDeck: function (object) {
      // broadcast an object to other cards within the deck
    },
    behaviors: [px.card]
  });

</script>
